什么是死锁？

两个线程在拿到多个锁时构成了一个环，a，b锁举例。

死锁检测：

jstack，jconsole 加上进程ID会自动分析堆栈信息，进行死锁检测。它会显示造成死锁的两个线程，以及他们持有了什么锁，在等待什么锁。

但是可能会有误判的情况，还需要根据线程ID的堆栈信息，在代码层面进行确认。

死锁预防：

按顺序拿锁；加入超时机制。